# 可验证的凭证用例

**摘要**

可核实的权利要求是指一个实体的资格、成就、质量或关于其背景的信息，如姓名、政府身份证、付款机构、家庭地址或大学学位。这种权利要求描述了一个实体的一种或多种品质、属性，从而确立了它的存在和独特性。这里概述的用例是为了在未来可能的标准化和低风险和高风险索赔的互操作性方面取得进展，其目标是存储、传输和接收可数字验证的属性证明，如资格和成就。本文件中的用例侧重于本小组所定义的技术应该解决的具体情景。

**本文件的状态**

本节介绍了本文件出版时的状况。其他文件可能会取代本文件。W3C 当前的出版物和本技术报告的最新修订版列表可在 W3C 技术报告索引中找到：https://www.w3.org/TR/。

本文档是一个简明但有限的用例集合，读者应与可验证凭证数据模型一起阅读。

由于 W3C 程序和出版期限的限制，本文档的工作是在时间紧迫的情况下进行的。在这样的条件下，错误是不可避免的，这里提出的一些想法也是不完整的。工作组希望未来能够对W3C流程进行修订，以更好地支持标准工作的动态性，在不同的组别中以更一致的方式进行。

欢迎对本文档提出意见。请直接在GitHub上提交，或发送至public-vc-comments@w3.org（订阅、存档）。

本文档由可验证索赔工作组作为工作组说明发布。

本规范的讨论首选GitHub Issues。

作为工作组说明发布并不意味着 W3C 成员的认可。本规范是一份草案文件，可能随时被其他文件更新、替换或淘汰。不宜将本文档作为正在进行的工作以外的其他文件引用。

本文件由根据W3C专利政策运作的小组制作。

本文档受2019年3月1日万维网进程文件管辖。

## 1. 1.简介

W3C 的可验证声明工作组正在制定标准，用于表达和交换已经过第三方验证的 "声明"，并使其在网络上更容易和更安全。

> 注
>
> 本文件并不试图界定支持可核查索赔的结构。相反，它表达了实际用户的各种需求，这些需求可以通过支持某种自我主权的索赔环境来解决。本文件试图使用与可核查索偿工作组其他可交付成果一致的术语（您可以在附录A中看到相关术语）。

### 1.1 这项工作的重要性

实体(人、组织、设备)在日常活动中需要提出许多种要求。随着越来越多的重要活动转移到互联网上，实体需要能够即时传送可验证的要求（例如，关于他们的位置、成就、价值等）。从教育记录到支付账户访问，下一代网络应用将授权实体根据可信方发布的丰富的凭证集来执行行动。有关工作申请、账户访问、协作和职业发展的人类和机器中介决策将依赖于过滤和分析越来越多的数据。数据必须是可验证的。

数字主张技术的标准化使许多利益相关者有可能发布、赚取和信任这些关于其对应方的基本记录，而不被锁定在专有平台上。

### 1.2 用例模型

本文件提出了一个综合用例模型，由需求、角色、任务和序列组成。这些模型共同定义了可验证凭证工作组所处理的用例。

用户需求定义了可验证凭证所解决的问题空间。用户角色（User Roles）规定了不同实体在与可验证凭证交互时的角色。任务定义了用户可以完成的功能，而序列则展示了如何通过实体之间的交互来实现任务，随着时间的推移。

与所有模型一样，这个用例模型既不详尽也不完整。所列出的用例不可能涵盖所有可能的用例。同样，这些模型也不能完全描述所代表的用例。不过，综合模型旨在为今后的工作提供具体、一致的指导。

## 2. 用户角色

可验证凭证支持的角色有四种：签发人、核验人、主体和持有人。

![Verifiable Credential User Roles](https://www.w3.org/TR/vc-use-cases/VerifiableCredentialsUserRoles.png)

*图1 可验证凭证用户角色*

**签发人**

创建主张并将其与特定主体联系起来的实体。

**核验人**

实体核验关于给定主体的主张。

**主体**

对其发出主张的实体。

**持有人**

一个实体通过拥有一个或多个可验证凭证可以发挥的作用。持有人通常是但不一定是其持有的可验证凭证的主体。持有人将其凭证储存在凭证库中。

## 3. 用户需求

可验证凭证解决了用户在一些关键领域的需求：

![Verifiable Credential User Needs](https://www.w3.org/TR/vc-use-cases/VerifiableCredentialsProblemDomains.png)

*图2 可验证凭证、用户需求的示例域*

### 3.1 教育

教育领域包括各级教育经验；从初级教育到专业继续教育。

**E.1数字笔录**

Joleen是Mega大学的注册官，她的职责是负责学术记录的完整性、准确性和安全性。Joleen是率先倡导 "扩展成绩单 "的注册官，不仅包括标准的课程成绩，还增加了关于学习者能力的补充信息。这些信息可能包括工作经验和非教育性但可用于市场的技能。应学生的要求，Joleen颁发了一份包括扩展成绩单的数字证书。

**E.2参加考试**

Eunice即将参加她的ACT考试（一个用于评估她是否为上大学做好准备的考试）。当她到达测试中心时，她被要求出示身份证明。她的政府颁发的身份证明是可以接受的，因为其中包含的可验证凭证反映了所有要求的属性，而且很难伪造。

**E.3转学**

Rocky是Wossamotta U的一名本科生，学校为所有学生和校友提供了证书库服务，所以他选择了使用。在第三年，Rocky决定转学到Moosylvania Tech。他们不提供服务，但他不想继续使用他原来（现在的竞争对手学校）的服务，所以他把他的债权转移到银行提供的服务上，而不需要重新发放。

**E.4在线课程**

在MOOC和其他在线学习系统中，能够可靠地识别学员的身份，对保证个人的评价和认证至关重要。Nick正在参加一门在线课程并进行测试。他需要在测试前提供自己的凭证来证明自己的身份，然后让系统就他的测试结果发出可验证的凭证。

### 3.2 零售

零售领域涵盖了所有在个人层面进行价值交换的事物。包括实体店面、网络专用场所，甚至是人对人的销售。

**R.1 地址验证**

弗朗西斯已经找到了一双完美的鞋子。在处理订单时，巨人鞋业公司希望确定他的送货地址是准确的（不准确的地址在客户服务方面是非常昂贵的）。他们为那些在结账过程中提供可核实地址的客户提供折扣。弗朗西斯提供了他的证书，并以比他预期更低的价格买到了完美的鞋子。

**R.2 成人饮料**

六月去当地的啤酒和葡萄酒商店买一瓶酒。她提交了她的身份凭证，让酒店老板知道她已超过21岁，而无需透露她的实际出生日期、地址或她的州身份证号码。

**R.3 偵測欺詐**

在一个明媚的周日，奥斯卡想起自己还需要给妻子买一份珍贵的结婚纪念日礼物。然而，他敏锐地意识到，正是在周末，犯罪团伙才会设立诈骗网店，声称出售此类礼物，而实际上他们只收现金，周一就会消失。所以在真正购买心仪网店的礼品前，他要求店家提供一份由商会颁发的包含合法性证明的资质证书。在确认了店铺的合法性之后，他就可以购买礼品了。

### 3.3 财务

金融领域包括银行、经纪、保险和其他行业，在这些行业中，人们非常重视准确了解你的交易对象。

**F.1 重用了解你的客户**

简在芬兰的MidBank开了一个账户。作为这个过程的一部分，银行要求她从各种可能的来源中提供两份证明，以确认她的身份--所谓的 "了解你的客户 "检查。她选择了政府提供的可验证的凭证，确认她在某个地址收到过邮件，并且她有一张国民身份证。确认了这些，银行就可以为她开立账户，并在她进行交易时对她的身份充满信心。

现在账户已经开好了，Jane会收到一张数字签名的凭证，用于她在中银的支票账户。這張憑證證實了Jane在MidBank有一個帳戶，並且可以使用她的相關支票帳戶。由于MidBank(以及芬兰的所有银行)都必须对账户进行 "了解客户"(Know Your Customer)的检查，这个凭证也可以作为其他金融机构的充分验证。这可以帮助Jane向目的地银行保证她是经过验证的，从而消除了对误转交易和洗钱的担忧。

**F.2 匯款**

苏珊想通过一个流行的汇款服务给她在另一个国家的家人汇款。她的凭证库中有可验证的凭证，可以用来分享她的身份资料。她的家人也给她发来了一份证明他们银行信息的凭证。通过与汇款服务共享这些信息，他们可以自动验证资金的来源和去向，从而对这些资金的交付充满信心，并满足各种有关防止洗钱的规定。

**F.3 結束帳戶**

约翰在大银行公司开了一个支票账户，并得到了一张可核实的凭证，表明该账户的存在，银行核实了约翰的身份，约翰可以使用该账户。一段时间后，约翰要搬到一个新的城市，并决定关闭该账户。大银行公司需要撤销该主张，作为其正常账户关闭程序的一部分。

**F.4 试用新服务**

尼基塔在大银行有几个账户，在华尔街公司也有一个经纪账户。她把所有的债权都放在BigBank的一个凭证存储库中，这个存储库在她开户时是免费的。WallStreetCo现在提供了一个新的存储库，其界面她认为自己会更喜欢。尼基塔将她的债权从BigBank复制到WallStreetCo的存储库中，以试验他们的服务，但在她试验的同时继续使用BigBank的服务。

**F.5 从家里开一个新的银行账户**

爱丽丝想开一个新的银行账户。如果她能提供电子凭证的话，BigOnlineBank提供了从家里做这件事的能力。她提供政府颁发的证书，验证她的身份（地址、国民身份号码等），并在沙发上开立新账户。

### 3.4 保健

在医疗行业，隐私是至关重要的。该领域关注从物理交互到连接患者和服务机构的一切。

**H.1 处方**

Barney是一名医生，最近获得了所在州的委员会认证。该州的委员会向 Barney 发出一份数字证书，确认他已获得该州的行医资格。现在Barney可以在开处方和转诊时使用这个证书，从而提高了责任心和可验证性。

**H.2 在线药房**

iPharmacy 从当地诊所收到 Bob 的电子处方，其中包括开具处方的医生证明和 Bob 的资料。iPharmacy的系统会自动验证医生开具处方的能力，以及Bob的保险范围。当Bob到场取药时，iPharmacy会进一步将他的身份与证书进行关联，从而提高其系统的端到端责任感。

**H.3 保险索赔**

特蕾西在搬到一个新的城市后不久就出现了喉咙痛。她通过她的医疗保健网络找到了一位医生，并去接受治疗。她是一个新病人，所以诊所需要知道她是谁，以及她将如何付款。办理住院手续时，她要出示她的可核实的凭证，以证明她的身份和保险证明。当诊所将此提交给保险公司时，他们可以自动确定她向医疗服务提供者提交了身份证明和保险证明，并授予医生提交付款申请的能力。

**H.4 旅行中的疾病**

约翰正在享受一生中最难忘的假期，环游世界。他生病了，在一个他并不居住的国家的卫生诊所看病。在诊所里，他被要求提供身份证明。他提供了一份证明自己的姓名和地址的凭证，但选择不透露自己的婚姻状况或社会保险号码，因为这家诊所既不要求也不需要这些信息。他还标明披露的信息将在 30 天后到期--他不希望在 30 天后他的信息可以被核实。

**H.5 证明法定残疾身份**

法律上失明的Trina目前处于失业状态，她需要使用当地的免费残疾人乘车服务去就业办公室。要使用这项服务，她需要证明自己保持合法的残障身份。Trina提供了她的政府颁发的残疾证来注册乘车服务，但不需要向乘车服务机构透露她的具体残疾情况，因为这可能使她面临个人风险。

### 3.5 专业证书

在生活的许多方面，重要的是要知道实体是他们所说的人，他们能做到他们所说的。专业认证是了解一个实体能力的一种方式。能够验证这些认证是其价值的关键。

**C.1 寻找医生**

杰森正在寻找一位新的初级保健医生。他的医疗服务提供者在他们的网站上有关于他们的医生的信息，包括关于他们的教育、委员会认证和继续教育的可验证的证书。杰森可以验证这些证书，并确信他的新医生符合他的要求。

**C.2 忙碌的医生**

巴尼是一名委员会认证的医生，但他没有时间完成他的继续教育要求，他的证书失效了。由于董事会可以撤销他的证书，所以资格验证人员会自动意识到他不能再开具处方或进行医疗程序。

**C.3 糟糕的大学**

Jane获得了BigTraining Co.颁发的证书，表明她是经过培训的项目经理。后来发现，BigTraining Co.实际上并没有培训任何人，他们组织的证书通过美国教育部的认证数据库被撤销。因此，Jane的证书是无效的，未来的雇主在查询她的证书时就会发现这一点。

**C.4 新雇主**

杰西卡是一名在美国执业的医生。她有各种数字声明，说明她的资格、学历、继续教育成就和委员会认证。这些都存储在她的雇主提供的证书库中。当她被另一个医疗服务网络提供的职位时，她可以自动将所有这些要求转移到她的新雇主那里。

**C.5 社会权威**

Josie是一名医疗工作者，她在职业社交网络上建立了一个档案，让自己随时可以在工作中获得新的机会。她列出了她的就业历史和资历，包括学位、证书和数字徽章。该网站要求验证她的资历声明，以便在她发布信息时能看到她的资历。乔西授权与网站分享相关主张，网站核实后才允许乔西曝光。

"自由？"是一个鼓励自由讨论弗里多尼亚争议问题的在线论坛。该论坛允许用户注册匿名账户，但也允许用户根据现实世界的认证获得徽章。宝拉已获得援助工作者的认证，并希望在她的帖子上标明这一信息。她与论坛分享她的证书，但仅限于验证她是证书的持有者，她是证书的主体，以及她是一名援助工作者。这样一来，她在这个充满争议的论坛中保持了自己的匿名性，同时还能帮助自己的同胞。

**C.6求职者**

软件公司在网上发布了一个空缺职位，他们收到了数千份申请。Cindy已经申请了这份工作。与许多应聘者不同的是，她附上了她的教育证书--大学学位、额外的特定软件培训等。软件公司在收到她的申请时，会自动评估这些证书。因为她的材料是可以验证和核实的，所以她的申请立即被作为一个可行的候选人转发。

### 3.6 法律身份

在许多交易中，一个实体必须能够以能够迅速核实的方式证明其身份的某些方面。政府和其他得到广泛认可的实体完全有能力以可核查的数字形式提供这种身份证明。

**L.1 数字驾驶执照**

Asako 刚刚通过了领取驾照的最后考试。由于她还是个新司机，有可能会因为违反交通规则而被拦下，所以她想获得一份证明自己有驾驶权的证书。她要求认证机构(发证机构)提供一份证书，以便她向官员(证书验证人)证明她的主张是有效的。

**L.2 无缝移民**

汤姆是一个经常进行国际旅行的人。为了加快通过移民检查站的速度，他向政府当局申请了一本数字护照。在满足背景调查要求后，主管部门给汤姆发放了一本电子版护照。这个版本是可以验证的，并且保留了他所有访问过的地方的历史记录，这样移民局官员就可以快速、方便地评估他是否适合成为他们国家的游客。一旦他们满意，就会自动将这次新访问的细节添加到汤姆的护照上。

**L.3 快速的航空旅行**

航空旅行的安保工作越来越严格，需要越来越多的时间来验证每一位乘客的身份。伊万有一系列可验证的凭证，这些凭证被汇集到他的航空旅行身份档案中。当Ivan需要通过机场的安检站时，他在排队前会出示这份资料。由于他的身份可以立即得到自动验证，他可以跳过长长的队伍，直接进入金属探测器。

**L.4 难民危机**

每年都有成千上万的人因人为和自然灾害而流离失所。Anoushka就是其中之一，她被迫与母亲和弟弟一起逃离村庄。他们到达红十字与红新月联会的一个中心，那里是一个相对安全的地区，但没有任何证件。由于她家乡的政府正处于动荡之中，红十字与红新月会工作人员无法轻易确定他们的身份。幸运的是，阿努什卡获得了一份自主出生证明，其中附有她父母的出生和婚姻证明。她能够找回这个证明，因为它可以从许多地方获得，通常是在互联网上。由于可以核实，红十字与红新月联会可以放心地为他们担保，并在冲突期间将他们安置在一个较安全的地区。

### 3.7 设备

情报设备的创建和部署是为了让它们能够与其他实体（人、组织、设备）互动。与这些设备建立信任和维护安全关系尤为关键。

**D.1 制造过程中的设备**

暖通制造公司生产总监Bob在工厂为节能风扇控制器物联网设备颁发设备识别可验证凭证（如IDevID、IAK）。

认证测试实验室的高级质量工程师Carol在制造过程中，在认证实验室为风扇控制器设备发放符合规范的可验证凭证。

当风扇控制器安装在现代办公空间的客户办公室时，控制器的识别凭证可以由IT技术人员Sam进行验证，以确定控制器的身份，作为新控制器上岗的一部分。控制器的规格符合性凭证将被验证，以证明控制器符合能源之星的要求。

**D.2 交付期间的设备**

风扇控制器出厂时，VAR经销商的系统工程师Vince会签发额外的可验证凭证，因为他确认制造商的配置与设备附带的可验证凭证相符。然后，他根据现代办公空间的需求安装特定的软件包，并签发可验证凭证，以证明VAR经销商拥有该设备，以及Vince为该设备添加的软件。

最后，在交付给最终客户 Sam 时，可验证凭证显示风扇控制器已被安全处理，并包含正确的功能和认证。

**D.3 设备设置为自主操作的设备**

新设备的所有者Sam需要相信设备来自HVAC制造厂，在认证测试实验室得到了正确的处理，并在VAR经销商处安装了正确的软件包。在Sam验证了每一个可验证的凭证后，他为37号风扇控制器发出另一个可验证的凭证，其中包括与信任有关的断言：设备制造商型号/版本、软件制造商型号/版本、组件TCB的安全版本，以及风扇控制器被授权与之交互的相关设备，包括恒温器-板房。

恒温器-板-室监测室温。当温度过高时，它将37号风扇控制器打开，之后当温度达到舒适水平时，关闭。该设备确保来自恒温器-板-室的控制信号是经过授权的（即山姆打算让恒温器-板-室控制风扇控制器）。

Sam担心智能板房的安全性。他对自主交互设备进行配置，定期重新验证设备可信度属性，重新检查设备是否来源于暖通空调制造厂，是否由认证测试实验室正确处理，是否由VAR经销商安装了正确的软件包。

在设备的使用寿命期间，山姆可能会偶尔更新设备的软件。即使山姆正在应用更新，VAR Resellers 也会提供正确的更新。该设备确保只有VAR经销商能够提供更新的软件映像，并且只有Sam能够应用更新。

## 4. 用户任务

用例常常被用作需求的驱动因素。虽然可验证凭证的用户有跨越许多领域的需求，但与这些需求相关的任务却跨越了各个领域。本节总结了这些任务以及与任务相关的需求，并将任务和需求映射到相关的需求上。

> 注
>
> 值得注意的是，主体可能是也可能不是与持有人相同的实体。这些例子中没有需要主体参与的任务。
>

![Verifiable Credential User Tasks](https://www.w3.org/TR/vc-use-cases/VerifiableCredentialsUserTasks.png)

*图3 可验证凭证用户任务*

### 4.1 签发主张

**要求**

任何实体都必须能够发布一个可验证凭证。

**动机**

个人和组织需要一种方法来发布关于自己或他人的、可以被核实和信任的主张。

**需求**

F.1重用认识你的客户，E.1数字成绩单，L.1数字驾驶证，H.1处方。

### 4.2 宣称主张

**要求**

可验证凭证的持有人必须能够限制他们选择分享的凭证中所暴露的信息量。同时，持有人也必须能够限制信息共享的时间。

**动机**

可就某一主题颁发包括多个属性的证书，但在核实某一特定标准得到满足时，只需要其中一些属性。持证者应该有能力满足标准，而不透露不需要的额外属性。

**需求**

R.2 成人饮料，H.4 旅行病。

### 4.3 核验主张

**要求**

核验人必须能够核实凭证是签发人对主体主张的真实陈述。核查实体必须有能力将签发人的身份与其凭证标识符联系起来，并将主体的身份与其凭证中所示的标识符联系起来。签发人的验证信息，如其公开密钥，必须可以从凭证记录中发现，并可验证地与签发人联系起来。必须能够以自动化的方式进行。

**动机**

在许多环境中（如订单处理），需要自动验证付款人的地址、公民身份或年龄等信息以完成交易。

**需要**

F.2汇款、C.1找医生、E.2参加考试、R.1地址核实、F.5家里新开的银行账户、H.2网上药店、C.6求职者。

### 4.4 存储/移动主张

**要求**

持有人必须能够将该主张储存在一个或多个凭证存放处。同时也必须能够让主张的持有人在不需要向主张的签发人申请新的主张的情况下，将主张转移到不同的凭证存储库中。

**动机**

主张由其持有人控制。该持有人将根据各种因素(例如，雇主要求、便利性、服务水平、供应商成本、商业智能)选择其索偿要求的存储地点。持有人需要能够轻松地在各种凭证库中进行选择，还需要能够将他们的主张迁移到另一个主张库中，而不需要向签发人申请新的主张。

**需求**

F.4尝试新的服务，E.3转学，C.4新的雇主。

### 4.5 选取主张

**要求**

持有人必须能够选择是否以及哪种适当的凭证应该发送给核验人。

**动机**

核验人可要求持有人核实其在某些方面是否适合进行交易。在这种情况下，持有人必须能够选择存储在其凭证库中的哪些（如果有的话）可验证凭证来满足核验人的要求。

**需求**

C.5社会权威，E.4网络课堂

### 4.6 撤销主张

要求

主张的签发人必须能够撤销该主张，此后该主张将不再满足核查程序。

动机

实体（签发人）发现他们为最终用户（主体）出具并认可的主张不再有效，希望撤销出具的主张。

需要

F.3结账，C.2忙医，C.3大学不好考

### 5. 重点用例

重点用例旨在提供一些例子，说明如何将可验证凭证标准中的各种功能混合在一起使用，以解决复杂或具有挑战性的市场需求。

### 5.1 按亲子关系划分的公民身份。

#### 背景

萨姆想申请美国公民身份，因为他的母亲是美国人。萨姆有一份肯尼亚的数字出生证明，他在肯尼亚出生，而他的母亲则在和平队工作。他还有他母亲的美国护照的数字版。由于他母亲在他出生和护照签发之间的名字发生了变化，所以山姆还有一张结婚证，上面写着母亲的婚前和婚后的名字。萨姆正在向美国国务卿申请一本新护照。

#### 区别

这个用例具有挑战性，因为母亲的姓名在出生证和护照签发之间因结婚而改变。

#### 情景

萨姆的母亲通过电子邮件将证书、执照和护照作为独立的可验证凭证发给他。然后，他创建了一个可验证展示，其中包括这些证书、他们之间关系的声明以及他与母亲的关系。然后，他访问美国国务卿网站，创建一个账户，开始申请护照，并上传他的新的可验证介绍作为支持证据。在处理完申请后，山姆同时获得了传统护照和新的数字护照。

#### 可验证凭证
| 主张 | 可证明的内容 |
|---|---|
|出生证明|确定与母亲的婚前姓氏关系。|
|结婚证|确定母亲的姓名变更|
|母亲的护照|确定母亲的美国公民身份|
|Sam's Passport|确定Sam是出生证上的孩子。|

#### 可验证展示

一个可验证展示，其中包括这三个凭证，加上他的姓名、照片和人口数据，以及以下说法：

- 他是出生证上的孩子。
- 出生证上的母亲、护照上的人、结婚证上的配偶都是同一个人。

#### 信任层次结构

萨姆对其公民权的主张负有法律责任。国务院有责任核实基本凭证和山姆的诉求，包括与他们可能已经掌握的任何其他数据进行核对。

#### 威胁模型

- **威胁：恐怖分子/身份欺诈**。一个坏人可能会冒充萨姆获得护照。当然，如果一个坏人能够收集到所需的可验证的凭证--母亲的护照、出生证明和结婚证，这个人已经严重损害了系统。
- **应对措施**：基于展示和其他数据的身份保证 超出了展示和声明的内容。
  - **应对措施**：根据展示和其他数据进行身份保证，超出展示和诉求中的内容。基于申请内容的身份保证 有可能在申请中嵌入增强型数据，即护照、出生证或结婚证中没有的数据。例如，可以在出生证报销单中嵌入生物识别模板，在提交展示时，可以使用该模板进行交互式身份保证。
  
- **威胁：暴露私人信息** 。通过在凭证中存储潜在的危害信息并通过网络发送，我们正在增加这些凭证主体的攻击面。
  - **应对措施**：对主张进行加密（由签发人加密一次，每个核验人都会得到相同的加密blob）。
  - **应对措施**：对每个核验人的主张进行唯一加密。这可能会将使用数据泄露给钱发人，假设持有人必须为每个核验人要求一个新的、加密的凭证。
  - **应对措施**：对每个核验人的主张进行唯一的屏蔽。
  - **应对措施**：为每个核验人唯一的加密展示。不涉及签发人。

### 5.2 专家潜水教练

#### 背景资料

Pat在斐济和澳大利亚生活和工作时，获得了多个潜水证书。后来，Pat被NOAA聘为潜水教练，这就要求他们保持教练资格证书，并获得干式潜水服、夜潜、搜索和回收等额外的专业潜水员证书。潜水教练证书是公开的记录，但额外的专家证书是私人的，因为他们是为了个人潜水，而不是作为教练。

Pat的部分工作是在NOAA批准的潜水中记录潜水员同伴的认证。

…………

### 5.3 小规模和升级的国际旅行。

#### 背景

Malathi正带着她8个月大的儿子Anand进行国际旅行。他的父亲Rajesh留在家里。Malathi有足够的飞行常客里程，可以将机票升级为头等舱。

…………

## 6. 用户时序

本节中的事务示例展示了使用可验证凭证的基本方式。它们并不是要在结构上加以限制。相反，它们的目的是帮助说明在典型的商业环境中可以完成的基本方式。同样--请记住，这只是一个例子，不应该被认为是这种主张环境必须实施的规范方式。

### 6.1 如何创建可验证凭证？

在第一个例子中，用户会要求一个可验证凭证--对其身份的确认。请看这个例子。

![Verifiable Credential Creation Flow Description](https://www.w3.org/TR/vc-use-cases/uc-issuing-claims.svg)

*图4 可验证凭证创建流程图*

拓展这些步骤：

1. Jane要求她的用户代理帮助她获得关于她身份的可验证凭证。
1. 她的用户代理将她连接到一个能够验证她身份的凭证发行商。
1. 发证机构检查了她的文件。
1. 他们很满意，所以发行商为Jane生成了一个可验证的凭证，其中包括与他们自己的可信凭证相连的身份信息。
1. 发行商將可验证凭证交回給 Jane 的用戶代理。
1. Jane 查看可验证凭证，确保它反映了她的要求。
1. 当她满意时，她指示她的用户代理保存可验证凭证，以便她将来使用。
1. 用户代理与她的凭证存储库通信，指示它存储新的可验证凭证。
1. 凭证存储库向用户代理返回它为Jane保存的可验证凭证的列表。
1. 用户代理向 Jane 展示她的可验证凭证集合--确认她拥有的所有可用凭证。

### 6.2 如何使用可验证凭证

在这个例子中，主张持有人需要在典型的商业情况下使用该主张。

![Verifiable Credential Usage Flow Diagram](https://www.w3.org/TR/vc-use-cases/example.svg)

*图5 可验证凭证使用流程图*

1. Jane决定在网站 WinesOfTheWorld.example.com（商家）上购物。
1. 商家的网站要求Jane年满21岁，并要求（通过用户代理支持的API调用）Jane证明这一点。
1. Jane的用户代理要求她的凭证存储库提供证明。
1. 凭证存储库向 Jane 显示了它所持有的一些可验证的凭证，这些凭证可以支持她的年龄主张（例如，她的护照、驾驶执照和出生证明）。
1. 简选择了其中的一个，并授权与商家共享。
1. 凭证存储库将所选的凭证作为对用户代理支持的API调用的响应返回，而API调用则将其传递给商家。
1. 商家的服务器验证该凭证是否有效，是否满足要求。
1. 商家将用户代理重定向到具有适当授权的网站。

## A. 术语

本节是非规范性的。

以下术语用于描述本说明书中的概念。

**主张**
对某一主题作出的论断。

**凭证**
签发人提出的一组一个或多个主张。可验证凭证是一种不可篡改的凭证，其作者身份可通过密码学方式加以核实。可验证凭证可以用来建立可验证展示，也可以进行密码学验证。凭证中的主张可以是关于不同的主题。

**实体**
具有独特而独立存在的事物，如在生态系统中执行一个或多个角色的个人、组织或设备。

**持有人**
一个实体通过拥有一个或多个可验证凭证并据此生成展示而可能发挥的作用。持有人通常是，但并不总是他们所持有的可验证凭证的主体。持有人将他们的凭证存储在凭证库中。

**发证者**
一个实体通过对一个或多个主体提出主张，从这些主张中创建一个可验证凭证，并将可验证凭证传送给持有人，从而可以执行的角色。

**展示**
由一个或多个签发人签发的一个或多个可验证凭证所产生的、与特定核验人共享的数据。可验证展示是一种不可篡改的展示数据，其编码方式是在经过密码学核查过程后，可以相信数据的作者身份。某些类型的可验证展示可能包含由原始可验证凭证合成的数据，但不包含原始可验证凭证（例如，零知识证明）。

**储存库**
存储库或个人可验证凭证钱包等程序，用于存储和保护持有人的可验证凭证的访问。

**主题**
一件事情，对其进行主张。

**核验**
评价可验证凭证或可验证展示是否分别是签发人或持有人的真实和及时的声明。包括检查：该凭证（或展示）是否符合规范；证明方法是否满足；如果存在，则检查状态是否成功。

**核验人**
核查关于某一特定主体的主张的实体；

## B. 可验证凭证范例
### 重点用例：国际小旅行

[EXAMPLE 1](https://www.w3.org/TR/vc-use-cases/#example-1-malathi-s-passport-simple-model): Malathi's passport (simple model)

```
{
  "@context": [
    "https://w3id.org/credentials/v1",
    "https://example.com/travel-vocab/v1"
  ],
  "id": "urn:uuid:9f6878c8-73c7-11e8-ab37-23a1a3504fd0",
  "type": ["VerifiableCredential", "PassportCredential"],
  /* gov't DID */
  "issuer": "did:example:CCnF3zFaXkPN4zB94XaomRdvw2zX3XHPVX3aExcgo6PV",
  "expires": "2028-01-01T00:00:00Z",
  "claim": {
    "id": "did:example:BcRisGnqV4QPb6bRmDCqEjyuubBarS1Y1nhDwxBMTXY4",
    "givenName": "Malathi",
    "familyName": "Hamal",
    "citizenship": "US",
    /* any other claims made by gov't */
  },
  "proof": {/* signature by gov't */}
}
```

[EXAMPLE 2](https://www.w3.org/TR/vc-use-cases/#example-2-malathi-s-passport-passport-is-a-document-model): Malathi's passport (passport is a document model)

```
{
  "@context": [
    "https://w3id.org/credentials/v1",
    "https://example.com/travel-vocab/v1"
  ],
  "id": "urn:uuid:9f6878c8-73c7-11e8-ab37-23a1a3504fd0",
  "type": ["VerifiableCredential", "PassportCredential"],
  /* gov't DID */
  "issuer": "did:example:CCnF3zFaXkPN4zB94XaomRdvw2zX3XHPVX3aExcgo6PV",
  "expires": "2028-01-01T00:00:00Z",
  "claim": {
    "id": "did:example:BcRisGnqV4QPb6bRmDCqEjyuubBarS1Y1nhDwxBMTXY4",
    "passport": {
      "id": "urn:uuid:79c181dc-73c7-11e8-8c1f-2bb1fd2d268a",
      "type": "Passport",
      "traveler": {
        "id": "did:example:BcRisGnqV4QPb6bRmDCqEjyuubBarS1Y1nhDwxBMTXY4",
        "givenName": "Malathi",
        "familyName": "Hamal",
        "citizenship": "US"
      },
      /* any other passport fields */
    }
  },
  "proof": {/* signature by gov't */}
}
```

[EXAMPLE 3](https://www.w3.org/TR/vc-use-cases/#example-3-anand-s-passport): Anand's passport

```
{
  "@context": [
    "https://w3id.org/credentials/v1",
    "https://example.com/travel-vocab/v1"
  ],
  "id": "urn:uuid:b306614c-73c7-11e8-b596-47e8c5ce9144",
  "type": ["VerifiableCredential", "PassportCredential"],
  /* gov't DID */
  "issuer": "did:example:CCnF3zFaXkPN4zB94XaomRdvw2zX3XHPVX3aExcgo6PV",
  "expires": "2020-01-01T00:00:00Z",
  "claim": {
    "id": "did:example:8vFBbPrhBUyG6DEzVncBZpzBNsmRrbfsQKXQKPLskBCu",
    "givenName": "Anand",
    "familyName": "Hamal"
    "citizenship": "US",
    /* any other claims made by gov't */
  },
  "proof": {/* signature by gov't */}
}
```

[EXAMPLE 4](https://www.w3.org/TR/vc-use-cases/#example-4-anand-s-birth-certificate): Anand's birth certificate

```
{
  "@context": [
    "https://w3id.org/credentials/v1",
    "https://example.com/travel-vocab/v1"
  ],
  "id": "urn:uuid:05a47fe2-73c8-11e8-ac1e-7fe0051a1d75",
  "type": ["VerifiableCredential", "BirthCertificate"],
  "issuer": "did:example:CCnF3zFaXkPN4zB94XaomRdvw2zX3XHPVX3aExcgo6PV",
  "expires": "2020-01-01T00:00:00Z",
  "claim": {
    "id": "did:example:8vFBbPrhBUyG6DEzVncBZpzBNsmRrbfsQKXQKPLskBCu",
    "citizenship": "US",
    "birthDate": "2017-10-01T00:00:00Z",
    "birthPlace": {
      "type": "Hospital",
      "address": {
        "type": "US address",
        "addressLocality": "Denver",
        "addressRegion": "CO",
        "postalCode": "80209",
        "streetAddress": "123 Main St."
      }
    },
    "givenName": "Anand",
    "familyName": "Hamal",
    "parent": [{
      "id": "did:example:BcRisGnqV4QPb6bRmDCqEjyuubBarS1Y1nhDwxBMTXY4",
      "type": "Person",
      "givenName": "Malathi",
      "familyName": "Hamal",
      "maidenName": "Holla"
    }, {
      "id": "did:example:BgXRjB4RPrrsUVoVNaYNwzfznKsWep7AWrZkiyVcorEN",
      "type": "Person",
      "givenName": "Rajesh",
      "familyName": "Hamal"
    }]
  },
  "proof": {/* signature by gov't */}
}
```

[EXAMPLE 5](https://www.w3.org/TR/vc-use-cases/#example-5-permission-to-travel-from-rajesh-using-schema-org-vocab): Permission to travel from Rajesh using schema.org vocab

```
{
  "@context": [
    "https://w3id.org/credentials/v1",
    "https://example.com/travel-vocab/v1"
  ],
  "id": "urn:uuid:58c08196-73c6-11e8-b030-3bd8a829a356",
  "type": ["VerifiableCredential", "ChildTravelPass"],
  "issuer": "did:example:BgXRjB4RPrrsUVoVNaYNwzfznKsWep7AWrZkiyVcorEN",
  "expires": "2018-07-01T00:00:00Z",
  "claim": {
    "id": "did:example:8vFBbPrhBUyG6DEzVncBZpzBNsmRrbfsQKXQKPLskBCu",
    "potentialAction": {
      "type": "TravelAction",
      "agent": "did:example:8vFBbPrhBUyG6DEzVncBZpzBNsmRrbfsQKXQKPLskBCu",
      "participant": "did:example:BcRisGnqV4QPb6bRmDCqEjyuubBarS1Y1nhDwxBMTXY4",
      "location": {
        "type": "Country",
        "address": {
          "addressCountry": "CA"
        }
      }
    }
  },
  "proof": {/* signature by Rajesh proving control of DID */}
}
```

## C. 鸣谢

本节是非规范性的。

The editors are thankful to the contributions from the Web Payments Workshop, the Web Payments Community Group, the Web Payments Interest Group, the Credentials Community Group, the Verifiable Claims Task Force, and the Verifiable Claims Working Group.

## D. 参考文献

### D.1 参考资料

**[RFC3986]**。

统一资源标识符（URI）。通用语法。T. Berners-Lee; R. Fielding; L. Masinter. IETF。2005年1月。互联网标准。URL: https://tools.ietf.org/html/rfc3986